import{u as _,o as S,c as d,a as e,t as u,b as k,w as V,d as x,e as v,v as f,f as g,g as y,h as r,r as m,i as C,j as M,k as p}from"./app-C4KUgVyX.js";import{u as N}from"./settings-Bgo0l-A7.js";/* empty css            */import"./settings-BRfTKV2T.js";const j={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-600 via-primary-700 to-primary-900 px-4 py-12"},B={class:"w-full max-w-md"},L={class:"text-center mb-8"},D={class:"text-2xl font-bold text-white"},q={class:"bg-white rounded-2xl shadow-xl p-8"},E={key:0,class:"rounded-lg bg-red-50 p-3 text-sm text-red-700"},P={class:"flex items-center justify-between"},R=["disabled"],T={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},U={class:"mt-6 text-center text-sm text-gray-500"},H={__name:"Login",setup(z){const w=M(),b=_(),l=N(),s=m({email:"",password:""}),o=m(!1),a=m("");S(()=>{l.loaded||l.fetchPublic()});async function h(){o.value=!0,a.value="";try{await b.login(s.value),w.push({name:"dashboard"})}catch(i){a.value=i.response?.data?.message||i.response?.data?.errors?.email?.[0]||"Login failed."}finally{o.value=!1}}return(i,t)=>{const c=C("router-link");return p(),d("div",j,[e("div",B,[e("div",L,[t[2]||(t[2]=e("div",{class:"mx-auto mb-4"},[e("img",{src:"/jata.png",alt:"Logo",class:"h-20 w-auto mx-auto drop-shadow-lg"})],-1)),e("h1",D,u(k(l).systemName),1),t[3]||(t[3]=e("p",{class:"mt-1 text-primary-200 text-sm"},"Sign in to your account",-1))]),e("div",q,[e("form",{onSubmit:V(h,["prevent"]),class:"space-y-5"},[a.value?(p(),d("div",E,u(a.value),1)):x("",!0),e("div",null,[t[4]||(t[4]=e("label",{class:"label-text"},"Email",-1)),v(e("input",{"onUpdate:modelValue":t[0]||(t[0]=n=>s.value.email=n),type:"email",required:"",class:"input-field",placeholder:"your@email.com"},null,512),[[f,s.value.email]])]),e("div",null,[e("div",P,[t[6]||(t[6]=e("label",{class:"label-text"},"Password",-1)),g(c,{to:{name:"forgot-password"},class:"text-xs text-primary-600 hover:text-primary-500"},{default:y(()=>[...t[5]||(t[5]=[r("Forgot password?",-1)])]),_:1})]),v(e("input",{"onUpdate:modelValue":t[1]||(t[1]=n=>s.value.password=n),type:"password",required:"",class:"input-field",placeholder:"Minimum 8 characters"},null,512),[[f,s.value.password]])]),e("button",{type:"submit",disabled:o.value,class:"btn-primary w-full"},[o.value?(p(),d("svg",T,[...t[7]||(t[7]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"},null,-1)])])):x("",!0),r(" "+u(o.value?"Signing in...":"Sign In"),1)],8,R)],32),e("p",U,[t[9]||(t[9]=r(" Don't have an account? ",-1)),g(c,{to:{name:"register"},class:"font-medium text-primary-600 hover:text-primary-500"},{default:y(()=>[...t[8]||(t[8]=[r("Register",-1)])]),_:1})])])])])}}};export{H as default};
