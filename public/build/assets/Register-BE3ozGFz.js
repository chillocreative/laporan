import{o as h,c as d,a as t,t as v,b as k,l as S,f as x,g as y,F as V,w as C,d as N,e as u,v as p,h as f,r as c,i as j,k as m,m as B}from"./app-UaHG2GIC.js";import{u as M}from"./settings-DfvZHstf.js";/* empty css            */import"./settings-UYISH56l.js";const R={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-600 via-primary-700 to-primary-900 px-4 py-12"},_={class:"w-full max-w-md"},q={class:"text-center mb-8"},E={class:"text-2xl font-bold text-white"},U={class:"bg-white rounded-2xl shadow-xl p-8"},F={key:0,class:"text-center py-4"},L={key:0,class:"rounded-lg bg-red-50 p-3 text-sm text-red-700"},P=["disabled"],A={class:"mt-6 text-center text-sm text-gray-500"},I={__name:"Register",setup(D){const r=M(),a=c({name:"",email:"",password:"",password_confirmation:"",recaptcha_token:"placeholder"}),l=c(!1),o=c(""),g=c(!1);h(async()=>{r.loaded||r.fetchPublic(),r.recaptchaSiteKey&&w(r.recaptchaSiteKey)});function w(n){if(document.getElementById("recaptcha-script"))return;const e=document.createElement("script");e.id="recaptcha-script",e.src="https://www.google.com/recaptcha/api.js?render=explicit",e.async=!0,e.defer=!0,e.onload=()=>{window.grecaptcha.ready(()=>{window.grecaptcha.render("recaptcha-container",{sitekey:n,callback:i=>{a.value.recaptcha_token=i}})})},document.head.appendChild(e)}async function b(){l.value=!0,o.value="";try{await B.register(a.value),g.value=!0}catch(n){const e=n.response?.data?.errors;o.value=e?Object.values(e).flat()[0]:"Registration failed."}finally{l.value=!1}}return(n,e)=>{const i=j("router-link");return m(),d("div",R,[t("div",_,[t("div",q,[e[4]||(e[4]=t("div",{class:"mx-auto mb-4"},[t("img",{src:"/jata.png",alt:"Logo",class:"h-20 w-auto mx-auto drop-shadow-lg"})],-1)),t("h1",E,v(k(r).systemName),1),e[5]||(e[5]=t("p",{class:"mt-1 text-primary-200 text-sm"},"Create your account",-1))]),t("div",U,[g.value?(m(),d("div",F,[e[7]||(e[7]=S('<div class="mx-auto mb-4 h-16 w-16 rounded-full bg-green-100 flex items-center justify-center"><svg class="h-8 w-8 text-green-600" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><h2 class="text-lg font-semibold text-gray-900 mb-2">Registration Successful</h2><p class="text-sm text-gray-600 mb-6">Your account is pending approval from an administrator. You will receive an email notification once your account has been approved.</p>',3)),x(i,{to:{name:"login"},class:"btn-primary inline-block"},{default:y(()=>[...e[6]||(e[6]=[f("Back to Login",-1)])]),_:1})])):(m(),d(V,{key:1},[t("form",{onSubmit:C(b,["prevent"]),class:"space-y-5"},[o.value?(m(),d("div",L,v(o.value),1)):N("",!0),t("div",null,[e[8]||(e[8]=t("label",{class:"label-text"},"Full Name",-1)),u(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>a.value.name=s),type:"text",required:"",class:"input-field"},null,512),[[p,a.value.name]])]),t("div",null,[e[9]||(e[9]=t("label",{class:"label-text"},"Email",-1)),u(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>a.value.email=s),type:"email",required:"",class:"input-field"},null,512),[[p,a.value.email]])]),t("div",null,[e[10]||(e[10]=t("label",{class:"label-text"},"Password",-1)),u(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>a.value.password=s),type:"password",required:"",class:"input-field"},null,512),[[p,a.value.password]])]),t("div",null,[e[11]||(e[11]=t("label",{class:"label-text"},"Confirm Password",-1)),u(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>a.value.password_confirmation=s),type:"password",required:"",class:"input-field"},null,512),[[p,a.value.password_confirmation]])]),e[12]||(e[12]=t("div",{id:"recaptcha-container"},null,-1)),t("button",{type:"submit",disabled:l.value,class:"btn-primary w-full"},v(l.value?"Creating account...":"Register"),9,P)],32),t("p",A,[e[14]||(e[14]=f(" Already have an account? ",-1)),x(i,{to:{name:"login"},class:"font-medium text-primary-600 hover:text-primary-500"},{default:y(()=>[...e[13]||(e[13]=[f("Sign in",-1)])]),_:1})])],64))])])])}}};export{I as default};
