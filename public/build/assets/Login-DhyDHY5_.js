import{u as k,o as _,c as u,a as t,t as d,b as L,w as S,d as x,e as f,v,f as g,g as y,h as l,r as m,i as M,j as V,k as p}from"./app-ahdqKkiX.js";import{u as C}from"./settings-DksVzAEX.js";/* empty css            */import"./settings-DmJ75MdV.js";const B={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-600 via-primary-700 to-primary-900 px-4 py-12"},N={class:"w-full max-w-md"},j={class:"text-center mb-8"},D={class:"text-2xl font-bold text-white"},q={class:"bg-white rounded-2xl shadow-xl p-8"},E={key:0,class:"rounded-lg bg-red-50 p-3 text-sm text-red-700"},T={class:"flex items-center justify-between"},U=["disabled"],z={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},A={class:"mt-6 text-center text-sm text-gray-500"},H={__name:"Login",setup(K){const w=V(),b=k(),r=C(),s=m({email:"",password:""}),a=m(!1),o=m("");_(()=>{r.loaded||r.fetchPublic()});async function h(){a.value=!0,o.value="";try{await b.login(s.value),w.push({name:"dashboard"})}catch(i){o.value=i.response?.data?.message||i.response?.data?.errors?.email?.[0]||"Log masuk gagal."}finally{a.value=!1}}return(i,e)=>{const c=M("router-link");return p(),u("div",B,[t("div",N,[t("div",j,[e[2]||(e[2]=t("div",{class:"mx-auto mb-4"},[t("img",{src:"/jata.png",alt:"Logo",class:"h-20 w-auto mx-auto drop-shadow-lg"})],-1)),t("h1",D,d(L(r).systemName),1),e[3]||(e[3]=t("p",{class:"mt-1 text-primary-200 text-sm"},"Log masuk ke akaun anda",-1))]),t("div",q,[t("form",{onSubmit:S(h,["prevent"]),class:"space-y-5"},[o.value?(p(),u("div",E,d(o.value),1)):x("",!0),t("div",null,[e[4]||(e[4]=t("label",{class:"label-text"},"E-mel",-1)),f(t("input",{"onUpdate:modelValue":e[0]||(e[0]=n=>s.value.email=n),type:"email",required:"",class:"input-field",placeholder:"anda@emel.com"},null,512),[[v,s.value.email]])]),t("div",null,[t("div",T,[e[6]||(e[6]=t("label",{class:"label-text"},"Kata Laluan",-1)),g(c,{to:{name:"forgot-password"},class:"text-xs text-primary-600 hover:text-primary-500"},{default:y(()=>[...e[5]||(e[5]=[l("Lupa kata laluan?",-1)])]),_:1})]),f(t("input",{"onUpdate:modelValue":e[1]||(e[1]=n=>s.value.password=n),type:"password",required:"",class:"input-field",placeholder:"Minimum 8 aksara"},null,512),[[v,s.value.password]])]),t("button",{type:"submit",disabled:a.value,class:"btn-primary w-full"},[a.value?(p(),u("svg",z,[...e[7]||(e[7]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"},null,-1)])])):x("",!0),l(" "+d(a.value?"Sedang log masuk...":"Log Masuk"),1)],8,U)],32),t("p",A,[e[9]||(e[9]=l(" Belum mempunyai akaun? ",-1)),g(c,{to:{name:"register"},class:"font-medium text-primary-600 hover:text-primary-500"},{default:y(()=>[...e[8]||(e[8]=[l("Daftar",-1)])]),_:1})])])])])}}};export{H as default};
