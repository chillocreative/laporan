import{o as b,c as r,a as s,t as m,b as y,l as g,f as k,g as h,w as _,d as S,e as p,v as c,n as V,r as i,i as M,k as n,h as N,m as P}from"./app-C4KUgVyX.js";import{u as q}from"./settings-Bgo0l-A7.js";/* empty css            */import"./settings-BRfTKV2T.js";const B={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-600 via-primary-700 to-primary-900 px-4 py-12"},C={class:"w-full max-w-md"},R={class:"text-center mb-8"},j={class:"text-2xl font-bold text-white"},L={class:"bg-white rounded-2xl shadow-xl p-8"},U={key:0,class:"text-center py-4"},D={key:0,class:"rounded-lg bg-red-50 p-3 text-sm text-red-700"},E=["disabled"],G={__name:"ResetPassword",setup(T){const v=V(),d=q(),t=i({email:"",password:"",password_confirmation:"",token:""}),o=i(!1),l=i(""),w=i(!1);b(()=>{d.loaded||d.fetchPublic(),t.value.token=v.query.token||"",t.value.email=v.query.email||""});async function f(){o.value=!0,l.value="";try{await P.resetPassword(t.value),w.value=!0}catch(u){l.value=u.response?.data?.errors?.email?.[0]||u.response?.data?.message||"Failed to reset password."}finally{o.value=!1}}return(u,e)=>{const x=M("router-link");return n(),r("div",B,[s("div",C,[s("div",R,[e[3]||(e[3]=s("div",{class:"mx-auto mb-4"},[s("img",{src:"/jata.png",alt:"Logo",class:"h-20 w-auto mx-auto drop-shadow-lg"})],-1)),s("h1",j,m(y(d).systemName),1),e[4]||(e[4]=s("p",{class:"mt-1 text-primary-200 text-sm"},"Set your new password",-1))]),s("div",L,[w.value?(n(),r("div",U,[e[6]||(e[6]=g('<div class="mx-auto mb-4 h-16 w-16 rounded-full bg-green-100 flex items-center justify-center"><svg class="h-8 w-8 text-green-600" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><h2 class="text-lg font-semibold text-gray-900 mb-2">Password Reset</h2><p class="text-sm text-gray-600 mb-6">Your password has been reset successfully. You can now log in with your new password.</p>',3)),k(x,{to:{name:"login"},class:"btn-primary inline-block"},{default:h(()=>[...e[5]||(e[5]=[N("Back to Login",-1)])]),_:1})])):(n(),r("form",{key:1,onSubmit:_(f,["prevent"]),class:"space-y-5"},[l.value?(n(),r("div",D,m(l.value),1)):S("",!0),s("div",null,[e[7]||(e[7]=s("label",{class:"label-text"},"Email",-1)),p(s("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>t.value.email=a),type:"email",required:"",class:"input-field"},null,512),[[c,t.value.email]])]),s("div",null,[e[8]||(e[8]=s("label",{class:"label-text"},"New Password",-1)),p(s("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>t.value.password=a),type:"password",required:"",class:"input-field",placeholder:"Minimum 8 characters"},null,512),[[c,t.value.password]])]),s("div",null,[e[9]||(e[9]=s("label",{class:"label-text"},"Confirm Password",-1)),p(s("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>t.value.password_confirmation=a),type:"password",required:"",class:"input-field"},null,512),[[c,t.value.password_confirmation]])]),s("button",{type:"submit",disabled:o.value,class:"btn-primary w-full"},m(o.value?"Resetting...":"Reset Password"),9,E)],32))])])])}}};export{G as default};
