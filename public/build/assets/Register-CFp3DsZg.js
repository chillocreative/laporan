import{o as k,c as d,a as t,t as f,b as h,l as S,f as x,g as y,F as V,w as M,d as j,e as u,v as p,h as v,r as m,i as N,k as c,m as B}from"./app-C4mD1gYF.js";import{u as C}from"./settings-BHASRbDi.js";/* empty css            */import"./settings-zcqBfFIw.js";const L={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-600 via-primary-700 to-primary-900 px-4 py-12"},_={class:"w-full max-w-md"},K={class:"text-center mb-8"},q={class:"text-2xl font-bold text-white"},E={class:"bg-white rounded-2xl shadow-xl p-8"},P={key:0,class:"text-center py-4"},U={key:0,class:"rounded-lg bg-red-50 p-3 text-sm text-red-700"},A=["disabled"],D={class:"mt-6 text-center text-sm text-gray-500"},O={__name:"Register",setup(R){const l=C(),a=m({name:"",email:"",password:"",password_confirmation:"",recaptcha_token:"placeholder"}),n=m(!1),r=m(""),g=m(!1);k(async()=>{l.loaded||l.fetchPublic(),l.recaptchaSiteKey&&b(l.recaptchaSiteKey)});function b(o){if(document.getElementById("recaptcha-script"))return;const e=document.createElement("script");e.id="recaptcha-script",e.src="https://www.google.com/recaptcha/api.js?render=explicit",e.async=!0,e.defer=!0,e.onload=()=>{window.grecaptcha.ready(()=>{window.grecaptcha.render("recaptcha-container",{sitekey:o,callback:i=>{a.value.recaptcha_token=i}})})},document.head.appendChild(e)}async function w(){n.value=!0,r.value="";try{await B.register(a.value),g.value=!0}catch(o){const e=o.response?.data?.errors;r.value=e?Object.values(e).flat()[0]:"Pendaftaran gagal."}finally{n.value=!1}}return(o,e)=>{const i=N("router-link");return c(),d("div",L,[t("div",_,[t("div",K,[e[4]||(e[4]=t("div",{class:"mx-auto mb-4"},[t("img",{src:"/jata.png",alt:"Logo",class:"h-20 w-auto mx-auto drop-shadow-lg"})],-1)),t("h1",q,f(h(l).systemName),1),e[5]||(e[5]=t("p",{class:"mt-1 text-primary-200 text-sm"},"Cipta akaun anda",-1))]),t("div",E,[g.value?(c(),d("div",P,[e[7]||(e[7]=S('<div class="mx-auto mb-4 h-16 w-16 rounded-full bg-green-100 flex items-center justify-center"><svg class="h-8 w-8 text-green-600" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><h2 class="text-lg font-semibold text-gray-900 mb-2">Pendaftaran Berjaya</h2><p class="text-sm text-gray-600 mb-6">Akaun anda sedang menunggu kelulusan daripada pentadbir. Anda akan menerima notifikasi e-mel setelah akaun anda diluluskan.</p>',3)),x(i,{to:{name:"login"},class:"btn-primary inline-block"},{default:y(()=>[...e[6]||(e[6]=[v("Kembali ke Log Masuk",-1)])]),_:1})])):(c(),d(V,{key:1},[t("form",{onSubmit:M(w,["prevent"]),class:"space-y-5"},[r.value?(c(),d("div",U,f(r.value),1)):j("",!0),t("div",null,[e[8]||(e[8]=t("label",{class:"label-text"},"Nama Penuh",-1)),u(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>a.value.name=s),type:"text",required:"",class:"input-field"},null,512),[[p,a.value.name]])]),t("div",null,[e[9]||(e[9]=t("label",{class:"label-text"},"E-mel",-1)),u(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>a.value.email=s),type:"email",required:"",class:"input-field"},null,512),[[p,a.value.email]])]),t("div",null,[e[10]||(e[10]=t("label",{class:"label-text"},"Kata Laluan",-1)),u(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>a.value.password=s),type:"password",required:"",class:"input-field"},null,512),[[p,a.value.password]])]),t("div",null,[e[11]||(e[11]=t("label",{class:"label-text"},"Sahkan Kata Laluan",-1)),u(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>a.value.password_confirmation=s),type:"password",required:"",class:"input-field"},null,512),[[p,a.value.password_confirmation]])]),e[12]||(e[12]=t("div",{id:"recaptcha-container"},null,-1)),t("button",{type:"submit",disabled:n.value,class:"btn-primary w-full"},f(n.value?"Mencipta akaun...":"Daftar"),9,A)],32),t("p",D,[e[14]||(e[14]=v(" Sudah mempunyai akaun? ",-1)),x(i,{to:{name:"login"},class:"font-medium text-primary-600 hover:text-primary-500"},{default:y(()=>[...e[13]||(e[13]=[v("Log masuk",-1)])]),_:1})])],64))])])])}}};export{O as default};
