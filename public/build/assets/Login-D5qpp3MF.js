import{u as _,o as C,c as d,a as e,t as o,b as x,w as L,d as v,e as f,v as g,f as y,g as w,h as l,r as m,i as S,j as M,k as p}from"./app-CQob2CXV.js";import{u as V}from"./settings-BUn_xVgY.js";/* empty css            */import"./settings-DVELaA8h.js";const B={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-600 via-primary-700 to-primary-900 px-4 py-12"},N={class:"w-full max-w-md"},D={class:"text-center mb-8"},j={class:"text-2xl font-bold text-white"},q={class:"bg-white rounded-2xl shadow-xl p-8"},E={key:0,class:"rounded-lg bg-red-50 p-3 text-sm text-red-700"},T={class:"flex items-center justify-between"},U=["disabled"],z={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},A={class:"mt-6 text-center text-sm text-gray-500"},F={class:"mt-6 text-center"},K={class:"text-[11px] text-primary-200/60"},I={__name:"Login",setup(P){const h=M(),b=_(),r=V(),s=m({email:"",password:""}),a=m(!1),i=m("");C(()=>{r.loaded||r.fetchPublic()});async function k(){a.value=!0,i.value="";try{await b.login(s.value),h.push({name:"dashboard"})}catch(n){i.value=n.response?.data?.message||n.response?.data?.errors?.email?.[0]||"Log masuk gagal."}finally{a.value=!1}}return(n,t)=>{const c=S("router-link");return p(),d("div",B,[e("div",N,[e("div",D,[t[2]||(t[2]=e("div",{class:"mx-auto mb-4"},[e("img",{src:"/jata.png",alt:"Logo",class:"h-20 w-auto mx-auto drop-shadow-lg"})],-1)),e("h1",j,o(x(r).systemName),1),t[3]||(t[3]=e("p",{class:"mt-1 text-primary-200 text-sm"},"Log masuk ke akaun anda",-1))]),e("div",q,[e("form",{onSubmit:L(k,["prevent"]),class:"space-y-5"},[i.value?(p(),d("div",E,o(i.value),1)):v("",!0),e("div",null,[t[4]||(t[4]=e("label",{class:"label-text"},"E-mel",-1)),f(e("input",{"onUpdate:modelValue":t[0]||(t[0]=u=>s.value.email=u),type:"email",required:"",class:"input-field",placeholder:"anda@emel.com"},null,512),[[g,s.value.email]])]),e("div",null,[e("div",T,[t[6]||(t[6]=e("label",{class:"label-text"},"Kata Laluan",-1)),y(c,{to:{name:"forgot-password"},class:"text-xs text-primary-600 hover:text-primary-500"},{default:w(()=>[...t[5]||(t[5]=[l("Lupa kata laluan?",-1)])]),_:1})]),f(e("input",{"onUpdate:modelValue":t[1]||(t[1]=u=>s.value.password=u),type:"password",required:"",class:"input-field",placeholder:"Minimum 8 aksara"},null,512),[[g,s.value.password]])]),e("button",{type:"submit",disabled:a.value,class:"btn-primary w-full"},[a.value?(p(),d("svg",z,[...t[7]||(t[7]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"},null,-1)])])):v("",!0),l(" "+o(a.value?"Sedang log masuk...":"Log Masuk"),1)],8,U)],32),e("p",A,[t[9]||(t[9]=l(" Belum mempunyai akaun? ",-1)),y(c,{to:{name:"register"},class:"font-medium text-primary-600 hover:text-primary-500"},{default:w(()=>[...t[8]||(t[8]=[l("Daftar",-1)])]),_:1})])]),e("div",F,[e("p",K,[l("© "+o(x(r).systemName)+" "+o(new Date().getFullYear())+" · Build & Design by: ",1),t[10]||(t[10]=e("a",{href:"https://www.chillocreative.com",target:"_blank",class:"text-primary-200/80 hover:text-white transition-colors"},"Chillo Creative",-1))])])])])}}};export{I as default};
